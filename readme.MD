# FlowCurator Telegram UserBot

## Описание

**FlowCurator** — это Telegram userbot на Python, который автоматизирует пересылку  постов из нескольких каналов-источников в целевой канал через группу одобрения.  
Бот работает от имени реального пользователя телеграм, а не просто как бот. 
---

## Основные функции

- **Добавление источников**: команда `/addsource` — бот попросит переслать сообщение из нужного канала, сам подпишется на него и добавит в список источников. После чего бот будет репостить ВСЕ новости из этого канала в специальную группу модерации для одобрения на репост.
- **Удаление источников**: команда `/remsource <id>` — удаляет канал из списка источников.
- **Список источников**: команда `/listsource` — выводит список всех каналов-источников с их именами и ID.
- **Публикация**: если в группе модерации на пересланное сообщение кто либо ответит "ok", оно будет опубликовано в целевом канале.
- **Ведение логов**: бот пишет логи по уровням (DEBUG, INFO, ERROR) в отдельные файлы и в консоль.
- **Работа с базой**: все источники и пересланные сообщения хранятся в SQLite базе.

---

## Запуск бота

**Настройка кода**:
    - Исправляете в коде айдишники группы модерации и целевого канала 
    - Идем на my.telegram.org, входим под аккаунтом пользователя от имени которого будет действовать бот. Получаем API ключ и токен пользователя от имени которого бот будет действовать.
    - Создаем приложение и получаем `api_id` и `api_hash`.
    - В файле `FC_bot_gtp4.1.py` исправляем код, указывая свои значения:
    ```python
    
    YOUR_API_ID = <ваш api_id>

    YOUR_API_HASH = '<ваш api_hash>'

    approval_group = <ID группы модерации>

    target_channel = <ID целевого канала>

    ```
    - ID вашей группы модерации и целевого канала можно получить с помощью специального бота  @userinfobot  или же  нагуглить как их получить.

**Запуск бота**:
    - Устанавливаем Python 3.8+ с [официального сайта](https://www.python.org/downloads/), открываем терминал в папке с ботом и выполняем 
    ```sh
    pip install telethon aiosqlite
    ```
    - запускаем код 
    ```sh
    python FC_bot_gtp4.1.py
    ```
    - При первом запуске потребуется авторизация через Telegram (код из Telegram).

## Использование бота 

2. **Добавление каналов источников**
    - Добавляем бота ( пользователя) в группу для модерации, а так же делаем его администратором целевого канала. 
    - Отправьте команду `/addsource` боту (в личку или в группу модерации).
    - Перешлите боту любое сообщение из нужного канала.
    - Бот подпишется на канал и добавит его в список источников.*
    - Отправьте команду `/remsource <id_канала>` (например, `/remsource -1001234567890`).
    - Отправьте команду `/listsource` и бот пришлёт список всех каналов-источников

3. **Модерация и публикация**
    - Все новые сообщения из каналов-источников автоматически пересылаются в группу модерации.
    - Модератор отвечает на сообщение "ok" — оно публикуется в целевом канале.

---


## Важно 

- Бот работает как **userbot** — это значит, что он использует ваш Telegram-аккаунт, а не отдельного бота.
- Не используйте этот скрипт на основном аккаунте, если не уверены в безопасности, так как он может быть заблокирвоан в случае неправильной работы бота.
- Для работы с приватными каналами бот должен быть на них подписан (он подпишется автоматически при добавлении источника).

---


**Удачи в автоматизации Telegram!**